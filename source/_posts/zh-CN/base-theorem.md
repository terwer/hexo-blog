---
title: 分布式理论之BASE定理
date: '2022-04-28 23:29:39'
updated: '2023-08-27 22:18:58'
excerpt: >-
   BASE理论是对CAP定理的演化，强调在分布式系统中，不同于CAP的同时满足，它关注基本可用性、软状态和最终一致性。基本可用性指系统在故障下仍能部分可用；软状态允许数据存在中间状态，不影响整体可用性；最终一致性要求在一定时间内达到数据副本一致性。这一理论适用于大型互联网系统，权衡了一致性和可用性，实现了分布式系统的容错性。
tags:
   - rpc
   - base
   - basically
   - availability
   - base定理
   - 分布式系统
   - CAP定理
   - BASE理论
   - 最终一致性
categories:
   - 分布式
permalink: /post/base-theorem.html
comments: true
toc: true
---


### BASE 定理

CAP 不可能同时满足，但是分区容错性对于分布式系统来说，是必须的。如果能够同时满足 CAP 就好了，于是出现了 BASE 理论。

BASE：全称 Basically Availability（基本可用），Soft State（软状态），和 Eventually Consistency（最终一致性），三个短语的缩写。

BASE 定理是对 CAP 中一致性和可用性权衡的结果，来源于对大型互联网分布式实践的总结，是基于 CAP 定理逐步演化而来。

核心思想是：即使无法做到强一致性（Strong Consistency），但是每个应用可以根据自身的特点，采取适当的方式让系统达到最终一致性（Eventually Consistency）。

1. Basically Availability（基本可用）

   什么是基本可用？就是相对于正常系统而言，系统虽然出现了不可预知的故障，但是还是能用。

   * 响应时间上的损失：正常情况下的搜索引擎在 0.5 秒给出搜索结果，基本可用的搜索引擎在 1 秒给出搜索结果
   * 功能上的损失：在电商网站上，正常情况下，用户可以完成每一笔订单，但是，在大促销期间，为了保证购物系统的稳定，部分消费者会被引导到一个降级页面

​![image-20220318175020403](https://img1.terwer.space/image-20220318175020403.png)​

2. Soft State（软状态）

   什么是软状态？对于原子性而言，要求多个节点的副本数据是一致的，这是一种硬状态。

   软状态指的是：允许系统中的数据存在中间状态，并认为该状态不会影响系统的整体可用性。

   就是允许系统在多个不同节点的数据副本存在数据延迟。
3. （Eventually Consistency）最终一致性

   软状态不可能一致持续，必须有个期限。

   在期限过后，应当保证所有副本的数据一致性。从而达到数据的最终一致性。

   时间期限取决于网络延迟，系统负载，数据复制方案设计等因素。